<nb-layout>
  <nb-layout-header fixed>
    <mat-toolbar class="bg-cosmic">
      <span><strong>MODELO Y SIMULACION</strong></span>
    </mat-toolbar>
    <span class="example-spacer"></span>
    <button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
      <mat-icon>bookmark</mat-icon>
    </button>
    <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon">
      <mat-icon>share</mat-icon>
    </button>
  </nb-layout-header>

  <nb-sidebar>
    <nb-accordion>
      <nb-accordion-item>
        <nb-accordion-item-header>
          Generador de <br> Numeros
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <a mat-button class="item" (click)="goToVonNeuman()">Von Neuman</a>
          <br>
          <a mat-button class="item" disabled>Congruencias</a>  
        </nb-accordion-item-body>
      </nb-accordion-item>
     
      <nb-accordion-item>
        <nb-accordion-item-header>
          Muestras aleatorias
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <a mat-button class="item" (click)="goToNumGen()">Generar valores</a>
          <br>
          <a mat-button class="item" (click)="goToNumGenHistory()">Historial</a> 
        </nb-accordion-item-body>  
      </nb-accordion-item>

      <nb-accordion-item>
        <nb-accordion-item-header>
          Modelos
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <a mat-button class="item" (click)="goToExistencias()">Existencias</a>
        </nb-accordion-item-body>  
      </nb-accordion-item>

    </nb-accordion>
    
  </nb-sidebar>
  
  <nb-layout-column>
        
    <div class="container card text-white">
          
      <div class="text-center">
        <h1 class="p-3 border-bottom">Metodo de Congruencia Fundamental</h1>
      </div>
      <div class="container border-bottom pb-3"> 
        <h4>Entrada de datos:</h4> 
        <form>
          <div class="mb-3">
            <label for="vi" class="form-label">Valor Inicial (V[i])</label>
            <input class="form-control text-center" name="vi" id="vi" type="number" required [formControl]="vi">
            <div class="form-text">Debe ser mayor a 0 y menor a "m"</div>
          </div> 
          <div class="mb-3">
            <label for="vik" class="form-label">Valor Inicial Anterior (V[i-k])</label>
            <input class="form-control text-center" name="vik" id="vik" type="number" required [formControl]="vik">
            <div class="form-text">Debe ser mayor o igual a 0 y menor a "m"</div>
          </div>
          <div class="mb-3">
            <label for="a" class="form-label">Valor a</label>
            <input class="form-control text-center" name="a" id="a" type="number" required [formControl]="a">
            <div class="form-text">Debe ser mayor a 0 y menor a "m"</div>
          </div>
          <div class="mb-3">
            <label for="c" class="form-label">Valor c</label>
            <input class="form-control text-center" name="c" id="c" type="number" required [formControl]="c">
            <div class="form-text">Debe ser mayor 0</div>
          </div>
          <div class="mb-3">
            <label for="k" class="form-label">Valor k</label>
            <input class="form-control text-center" name="k" id="k" type="number" required [formControl]="k">
            <div class="form-text">Debe ser mayor o igual a 0 y menor que la cantidad de repeticiones</div>
          </div>

          <div class="mb-3">
            <label for="m" class="form-label">Valor m</label>
            <input class="form-control text-center" name="m" id="m" type="number" required [formControl]="m">
            <div class="form-text">Debe ser mayor a 0</div>
          </div>
          <div class="mb-3">
            <label for="repeticiones" class="form-label">Repeticiones</label>
            <input class="form-control text-center" name="repeticiones" id="repeticiones" name="repeticiones" type="text" minlength="1" required [formControl]="repeticiones">
          </div>
          <div style="display: flex;"> 
            <input class="btn btn-success" type="button" value="Generar" (click)="generarNumeros()" style="margin: 0 auto;">
          </div>
        </form>
      </div>

      <div class="container">
        <div class="container">
          <h4 class="">Secuencia generada:</h4> 
          <div class="border text-dark bg-white" style="max-height: 300px; min-height: 300px; overflow: auto;">{{secuencia}}</div>    
        </div>
      </div> 
      
      <div class="row justify-content-center mt-3">
        <div class="col container" style="max-width: 500px;"> 
          <h4>Test de CHI CUADRADO:</h4> 
          <form>
            <div class="mb-3">
              <label for="alpha" class="form-label">Significancia (Î±):</label> 
              <input class="form-control text-center" name="alpha" id="alpha" type="text" [formControl]="significancia" readonly>
            </div>
            <div class="mb-3">
              <label for="gl" class="form-label">Grados de libertad:</label>
              <input class="form-control text-center" name="gl" id="gl" type="text" [formControl]="gl" readonly>
            </div>
            <div class="mb-3">
              <label for="estx" class="form-label">Estadistico X<sup>2</sup>:</label>
              <input class="form-control text-center" name="estx" id="estx" type="text" [formControl]="chicuadrado" readonly>
            </div>
            <div class="mb-3">
              <label for="pest2" class="form-label">Prueba estadistica:</label>
              <input class="form-control text-center" name="pest2" id="pest2" type="text" [formControl]="pest2" readonly>
            </div>
            <div style="display: flex;"> 
              <input class="btn btn-success" type="button" value="Calcular" (click)="comprobarChiCuadrado()" style="margin: 0 auto;">
            </div>
          </form>
        </div>

        <div class="col container" style="max-width: 500px;"> 
          <h4>Test de MONOBITS:</h4> 
          <form>
            <div class="mb-3">
              <label for="pvalor" class="form-label">P-Valor: </label>
              <input class="form-control text-center" name="pvalor" id="pvalor" type="text" [formControl]="pvalor" readonly>
            </div>
            <div class="mb-3">
              <label for="sn" class="form-label">S<sub>(n)</sub></label>
              <input class="form-control text-center" name="sn" id="sn" type="text"[formControl]="sn" readonly>
            </div>
            <div class="mb-3">
              <label for="varianza" class="form-label">S<sub>(obs)</sub></label>
              <input class="form-control text-center" name="varianza" id="varianza" type="text"[formControl]="se" readonly>
            </div>
            <div class="mb-3">
              <label for="est2" class="form-label">Prueba estadistica:</label>
              <input class="form-control text-center" name="est2" id="est2" type="text"[formControl]="pest" readonly>
            </div>
            <div style="display: flex;"> 
              <input class="btn btn-success" type="button" value="Calcular" (click)="comprobarMonobits()" style="margin: 0 auto;">
            </div>
          </form>
        </div>
      </div>
      <!--      
      <div class="container border-top mt-3">
        <div class="row justify-content-center text-center m-2">
          <div class="col p-3">
            <label for="chi2">DESCARTAR</label><br>
            <a name="chi2" class="btn btn-danger btn-group-vertical" type="button" (click)="descartar()" style="border-radius: 50%; min-width: 50px; min-height: 50px; align-items: center;">
              <i class="bi bi-trash-fill" style="color:white"></i>
            </a>
          </div>
          <div class="col p-3">
            <label for="chi2">GUARDAR</label><br>
            <a name="chi2" class="btn btn-success btn-group-vertical" type="button" (click)="guardarSecuencia()" style="border-radius: 50%; min-width: 50px; min-height: 50px; align-items: center;">
              <i class="bi bi-save-fill" style="color:white"></i>
            </a>
          </div> 
        </div>
      </div>
    -->
      
    </div>
    <ng-template #formNum></ng-template>
    <ngx-loading
    [show]="loading"
    [config]="{ fullScreenBackdrop: true }"
    [template]="formNum"> 
    </ngx-loading>
  
  </nb-layout-column>
    
</nb-layout>